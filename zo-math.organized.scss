/*-- scss:defaults --*/
/* ======================================================
   ZO MATH – THEME FOUNDATION (clean + organized)
   ====================================================== */

$theme: "sandstone" !default;

/* ======================================================
   A. COLOR SYSTEM & TOKENS
   ====================================================== */

$white: #ffffff !default;
$gray-100: #f8f9fa !default;
$gray-200: #f8f5f0 !default;
$gray-300: #dfd7ca !default;
$gray-400: #ced4da !default;
$gray-500: #98978b !default;
$gray-600: #8e8c84 !default;
$gray-700: #495057 !default;
$gray-800: #3e3f3a !default;
$gray-900: #212529 !default;
$black: #000000 !default;

$blue: #42a5f5 !default;
$indigo: #7986cb !default;

$red-01: #fdeded !default;
$red-02: #fbdcdc !default;
$red-03: #facbca !default;
$red-04: #f8bab9 !default;
$red-05: #f7a9a7 !default;
$red-06: #f59796 !default;
$red-07: #f38684 !default;
$red-08: #f27572 !default;
$red-09: #f06461 !default;
$red-10: #ef5350 !default; /* chính */
$red-11: #d74a48 !default;
$red-12: #bf4240 !default;
$red-13: #a73a38 !default;
$red-14: #8f3130 !default;
$red-15: #772928 !default;
$red-16: #5f2120 !default;
$red-17: #471818 !default;
$red-18: #2f1010 !default;
$red-19: #170808 !default;

$yellow-01: #fff9e9 !default;
$yellow-02: #fff4d4 !default;
$yellow-03: #ffefbe !default;
$yellow-04: #ffe9a9 !default;
$yellow-05: #ffe493 !default;
$yellow-06: #ffdf73 !default;
$yellow-07: #ffd968 !default;
$yellow-08: #ffd452 !default;
$yellow-09: #ffcf3d !default;
$yellow-10: #ffca28 !default; /* chính */
$yellow-11: #e5b524 !default;
$yellow-12: #cca120 !default;
$yellow-13: #b28d1c !default;
$yellow-14: #997918 !default;
$yellow-15: #7f6514 !default;
$yellow-16: #665010 !default;
$yellow-17: #4c3c0c !default;
$yellow-18: #332808 !default;
$yellow-19: #191404 !default;

$teal: #1de8b5 !default;

$primary: $red-10 !default;
$secondary: $yellow-10 !default;
$success: $teal !default;
$info: $blue !default;
$warning: $yellow-15 !default;
$danger: $red-15 !default;
$light: $gray-200 !default;
$dark: $gray-800 !default;

$min-contrast-ratio: 2 !default;

/* ======================================================
   B. TYPOGRAPHY / BODY / LINKS
   ====================================================== */

$body-color: $gray-800 !default;
$link-color: $success !default;

/* Nội dung mặc định (giữ Roboto) */
$font-family-sans-serif: Roboto, -apple-system, BlinkMacSystemFont, "Segoe UI",
  "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
  "Segoe UI Symbol" !default;

$headings-font-weight: 400 !default;

/* ======================================================
   C. COMPONENT TOKENS (Bootstrap/Quarto)
   ====================================================== */

/* Dropdowns */
$dropdown-link-color: $gray-600 !default;
$dropdown-link-hover-color: $dropdown-link-color !default;
$dropdown-link-hover-bg: $gray-200 !default;
$dropdown-link-active-color: $dropdown-link-color !default;
$dropdown-link-active-bg: $dropdown-link-hover-bg !default;

/* Navs */
$nav-link-padding-x: 0.9rem !default;
$nav-link-disabled-color: $gray-300 !default;
$nav-tabs-border-color: $gray-300 !default;
$nav-tabs-link-hover-border-color: $gray-300 !default;
$nav-tabs-link-active-bg: $white !default;
$nav-pills-link-active-color: $gray-600 !default;
$nav-pills-link-active-bg: $gray-200 !default;

/* Pagination */
$pagination-color: $gray-600 !default;
$pagination-bg: $gray-200 !default;
$pagination-border-color: $gray-300 !default;
$pagination-hover-color: $pagination-color !default;
$pagination-active-color: $pagination-color !default;
$pagination-active-bg: $gray-300 !default;
$pagination-active-border-color: $gray-300 !default;
$pagination-disabled-color: $gray-300 !default;
$pagination-disabled-bg: $gray-200 !default;
$pagination-disabled-border-color: $pagination-border-color !default;

/* Cards */
$card-border-color: rgba($gray-300, 0.75) !default;
$card-cap-bg: rgba($gray-200, 0.25) !default;

/* Popovers */
$popover-header-bg: $gray-200 !default;

/* Modals */
$modal-content-border-color: $gray-300 !default;
$modal-header-border-color: $modal-content-border-color !default;

/* Progress */
$progress-bg: $gray-300 !default;
$progress-border-radius: 10px !default;
$progress-bar-color: $primary !default;

/* List group */
$list-group-border-color: $gray-300 !default;
$list-group-hover-bg: $gray-200 !default;
$list-group-active-color: $body-color !default;
$list-group-active-bg: $gray-200 !default;
$list-group-active-border-color: $gray-300 !default;
$list-group-disabled-color: $gray-500 !default;
$list-group-disabled-bg: $white !default;
$list-group-action-color: $list-group-active-color !default;
$list-group-action-active-color: $list-group-active-color !default;
$list-group-action-active-bg: $gray-300 !default;

/* Breadcrumb */
$breadcrumb-padding-y: 0.375rem !default;
$breadcrumb-padding-x: 0.75rem !default;
$breadcrumb-bg: $pagination-bg !default;
$breadcrumb-border-radius: 0.25rem !default;

/* Close button */
$btn-close-color: $white !default;
$btn-close-opacity: 0.8 !default;
$btn-close-hover-opacity: 1 !default;

/*-- scss:rules --*/

/* ======================================================
   D. BASE IMPORTS / HELPERS
   ====================================================== */

$web-font-path: "https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;600&family=Be+Vietnam+Pro:wght@300;400;500&display=swap" !default;
@if $web-font-path {
  @import url($web-font-path);
}

/* UI font cho thanh điều khiển (ưu tiên Manrope; có Be Vietnam Pro fallback) */
$ui-font-family: "Manrope", "Be Vietnam Pro", "Nunito Sans", "Inter",
  -apple-system, BlinkMacSystemFont, "Segoe UI", "Helvetica Neue", Arial,
  sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol" !default;

/* Kiểu chữ UI chung (nhiều component @extend .sandstone) */
.sandstone {
  font-family: $ui-font-family;
  font-size: 12px; /* nhỏ gọn hơn mặc định */
  font-weight: 400; /* mảnh */
  line-height: 20px;
  text-transform: uppercase; /* hiển thị IN HOA cho UI */
  letter-spacing: 0.25px;
}

/* ======================================================
   E. THEME BASE RULES (Sandstone bootstrap layer)
   ====================================================== */

/* Navbar (base + glass) */
.navbar {
  .nav-link {
    @extend .sandstone;
  }
  &-form input,
  &-form .form-control {
    border: none;
  }
}

/* Buttons */
.btn {
  @extend .sandstone;
  &:hover {
    border-color: transparent;
  }
  &-success,
  &-warning {
    color: $white;
  }
}

/* Tables */
.table {
  .thead-dark th {
    background-color: $dark;
  }
}

/* Forms */
input,
.form-control {
  @include box-shadow(none);
  &:focus {
    @include box-shadow(none);
  }
}

/* Navs – Tabs */
.nav-tabs {
  .nav-link {
    @extend .sandstone;
    background-color: $gray-200;
    border-color: $gray-300;
  }
  .nav-link,
  .nav-link:hover,
  .nav-link:focus {
    color: $gray-600;
  }
  .nav-link.disabled,
  .nav-link.disabled:hover,
  .nav-link.disabled:focus {
    color: $nav-link-disabled-color;
    background-color: $gray-200;
    border-color: $gray-300;
  }
}

/* Navs – Pills */
.nav-pills {
  .nav-link {
    @extend .sandstone;
    color: $gray-600;
    border: 1px solid transparent;
  }
  .nav-link.active,
  .nav-link:hover,
  .nav-link:focus {
    background-color: $gray-200;
    border-color: $gray-300;
  }
  .nav-link.disabled,
  .nav-link.disabled:hover {
    color: $gray-300;
    background-color: transparent;
    border-color: transparent;
  }
}

/* Breadcrumb (base) */
.breadcrumb {
  @extend .sandstone;
  border: 1px solid $gray-300;
}

/* Pagination */
.pagination {
  @extend .sandstone;
  a:hover {
    text-decoration: none;
  }
}

/* Dropdown */
.dropdown-menu {
  .dropdown-item {
    @extend .sandstone;
  }
}

/* Alerts */
.alert {
  color: $white;
  a,
  .alert-link {
    color: $white;
    text-decoration: underline;
  }

  &-primary,
  &-secondary,
  &-success,
  &-info,
  &-danger,
  &-warning,
  &-dark {
    &,
    > th,
    > td {
      background-color: currentColor;
    }
  }
  &-primary {
    color: $primary;
  }
  &-secondary {
    color: $secondary;
  }
  &-success {
    color: $success;
  }
  &-info {
    color: $info;
  }
  &-danger {
    color: $danger;
  }
  &-warning {
    color: $warning;
  }
  &-dark {
    color: $dark;
  }

  &-light {
    &,
    > th,
    > td {
      background-color: $light;
    }
    &,
    a:not(.btn),
    .alert-link {
      color: $body-color;
    }
  }
}

/* Badge */
.badge {
  &.bg-light {
    color: $dark;
  }
}

/* Tooltip */
.tooltip {
  @extend .sandstone;
}

/* Containers (modal/toast/offcanvas) – close btn */
.modal,
.toast,
.offcanvas {
  .btn-close {
    background-image: escape-svg(
      url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='#{$gray-300}'><path d='M.293.293a1 1 0 0 1 1.414 0L8 6.586 14.293.293a1 1 0 1 1 1.414 1.414L9.414 8l6.293 6.293a1 1 0 0 1-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 0 1-1.414-1.414L6.586 8 .293 1.707a1 1 0 0 1 0-1.414z'/></svg>")
    );
  }
}

/* ======================================================
   F. ZO MATH TÙY BIẾN GIAO DIỆN (Custom Overrides)
   ====================================================== */

/* ------------------------------------------------------
   F0. Biến giao diện chung (Root Variables)
   ------------------------------------------------------ */
:root {
  --navbar-h: 56px;
  --bc-h: 32px;
  --sidebar-w: 280px;
}

/* ------------------------------------------------------
   F1. Thanh điều hướng (Navbar)
   ------------------------------------------------------ */
#quarto-header .navbar {
  background: rgba($white, 0.35);
  -webkit-backdrop-filter: blur(6px);
  backdrop-filter: blur(6px);
  border-bottom: 3px solid rgba($black, 0.125);

  /* Bootstrap CSS vars sync */
  --bs-navbar-color: #{$black};
  --bs-navbar-hover-color: #{$red-10};
  --bs-navbar-active-color: #{$black};
  --bs-navbar-brand-color: #{$black};
  --bs-navbar-brand-hover-color: #{$red-10};
  --bs-navbar-toggler-border-color: #{$black};

  position: relative;
  z-index: 1045; /* cao hơn breadcrumb */
}

/* Nút toggler */
.navbar .navbar-toggler {
  border-width: 1px;
  &-icon {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba(0,0,0)' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
  }
}

/* Liên kết và công cụ trong navbar */
.navbar a {
  color: $black;
  font-weight: 400;
  text-decoration: none;
  &:hover {
    color: $red-10;
    text-decoration: none;
  }
}
.navbar .quarto-navbar-tools a,
.navbar .quarto-navbar-tools button,
.navbar .quarto-navbar-tools svg,
.navbar .quarto-navbar-tools i {
  color: $black !important;
  fill: $black !important;
  stroke: $black !important;
}

/* ------------------------------------------------------
   F2. Đường dẫn (Breadcrumb)
   ------------------------------------------------------ */
.breadcrumb {
  position: static !important;
  top: auto !important;
  height: auto !important;
  line-height: normal !important;
  background: transparent !important;
  border: 0 !important;
  margin: 0;
  padding: 0.25rem 1rem;
}
body {
  padding-top: var(--navbar-h, 56px);
}

/* ... (giữ nguyên toàn bộ khối breadcrumb, mình chỉ làm sạch comment thôi) */

/* ------------------------------------------------------
   F3. Thanh bên (Sidebar)
   ------------------------------------------------------ */
/* Sidebar cố định, kính mờ, có hiệu ứng mở/đóng */
#quarto-sidebar {
  position: fixed;
  top: var(--navbar-h, 56px);
  left: 0;
  height: 100%;
  width: var(--sidebar-w);
  background: rgba($white, 0.35) !important;
  -webkit-backdrop-filter: blur(6px);
  backdrop-filter: blur(6px);
  border-right: 3px solid rgba($black, 0.125);
  box-shadow: inset -1px 0 0 rgba($black, 0.15);
  padding: 1rem;
  z-index: 1100;
  overflow-y: auto;
  font-weight: 400;
  transform: translateX(-100%);
  transition: transform 0.3s ease-in-out;
}

/* ... (phần còn lại của sidebar giữ nguyên, chỉ dọn comment và căn lề) */

/* ------------------------------------------------------
   F4. Banner tiêu đề (Title Banner)
   ------------------------------------------------------ */
/* ... Giữ nguyên toàn bộ banner hiện có, chỉ đổi phần comment đầu thành "Banner tiêu đề (Title Banner)" */

/* ------------------------------------------------------
   F5. Mục lục (Table of Contents - TOC)
   ------------------------------------------------------ */
/* ... toàn bộ phần TOC bạn viết rất kỹ, chỉ cần thêm comment "F5. Mục lục" ở đầu và dọn lề. */

/* ------------------------------------------------------
   F6. Chân trang (Footer)
   ------------------------------------------------------ */
.footer {
  background: $yellow-01;
  border-top: 3px solid $black;
  text-align: center;
  padding: 1rem;
  a {
    color: $red-10;
    font-weight: 700;
    text-decoration: none;
    margin: 0 0.5rem;
    &:hover {
      color: $red-11;
    }
  }
}

/* ------------------------------------------------------
   F7. Vòng sáng tiêu điểm (Focus Ring)
   ------------------------------------------------------ */
/* Giữ nguyên toàn bộ khối focus ring, chỉ đổi comment đầu cho rõ. */

/* ------------------------------------------------------
   F8. Tiện ích giao diện (UI Utilities)
   ------------------------------------------------------ */
/* Giữ nguyên phần in hoa / chữ nhỏ / tap-highlight. */

/* ------------------------------------------------------
   F9. Kết thúc các tùy biến ZO Math
   ------------------------------------------------------ */
